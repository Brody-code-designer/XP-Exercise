/*
Auto-generated by: https://github.com/pmndrs/gltfjsx
*/

import React, {useEffect, useState} from 'react'
import { useGLTF, useAnimations } from '@react-three/drei'


export default function Abe(props) {
  const { nodes, materials, animations } = useGLTF('/abe.glb')
  const { ref, actions, names } = useAnimations(animations)
    const [hovered, setHovered] = useState(false)
    const [index, setIndex] = useState(5)
    useEffect(() => void (document.body.style.cursor = hovered ? "pointer" : "auto"), [hovered])
    // Change animation when the index changes
    useEffect(() => {
        // Reset and fade in animation after an index has been changed
        actions[names[index]].reset().fadeIn(0.5).play()
        // In the clean-up phase, fade it out
        return () => actions[names[index]].fadeOut(0.5)
    }, [index, actions, names])
    console.log("actions:", actions)
  return (
    <group ref={ref} {...props} dispose={null}>
      <group
          onPointerOver={() => setHovered(true)}
          onPointerOut={() => setHovered(false)}
          onClick={() => setIndex((index + 1) % names.length)}
          rotation={[Math.PI / 2, 0, 0]}
          scale={[0.1, 0.1, 0.1]}>
        <primitive object={nodes.mixamorigHips} />
        <skinnedMesh castShadow scale={[1500, 1500, 1500]} geometry={nodes.Ch39.geometry} material={materials.Ch39_Body} skeleton={nodes.Ch39.skeleton} />
      </group>
    </group>
  )
}

useGLTF.preload('/abe.glb')
